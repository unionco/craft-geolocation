!function(e){function t(t){for(var s,i,c=t[0],a=t[1],l=t[2],d=0,h=[];d<c.length;d++)i=c[d],o[i]&&h.push(o[i][0]),o[i]=0;for(s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s]);for(u&&u(t);h.length;)h.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],s=!0,c=1;c<n.length;c++){var a=n[c];0!==o[a]&&(s=!1)}s&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var s={},o={main:0},r=[];function i(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=s,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(n,s,function(t){return e[t]}.bind(null,s));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var c=window.webpackJsonp=window.webpackJsonp||[],a=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=a;r.push([0,"vendor"]),n()}({"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/lib/loader.js!./resources/scss/field.scss":
/*!********************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader!./node_modules/postcss-loader/src??embedded!./node_modules/sass-loader/lib/loader.js!./resources/scss/field.scss ***!
  \********************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){},"./resources/js/RelatedEntryTypesField.ts":
/*!************************************************!*\
  !*** ./resources/js/RelatedEntryTypesField.ts ***!
  \************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var s=n(/*! ./components/ChannelGroup */"./resources/js/components/ChannelGroup.ts"),o=function(){function e(){var e=this;this.activeSections=[],this.fieldContainer=document.querySelector("#types-unionco-relatedentrytypes-fields-RelatedEntryType-sources-field");var t=document.querySelector("[data-related-entry-types-channels]");if(t){this.channelGroup=new s.default(t),this.activeSections=this.channelGroup.getActiveChannels();var n=JSON.parse(t.dataset.relatedEntryTypesChannels);this.sectionMap=n}this.updateActiveSections=this.updateActiveSections.bind(this),this.fieldContainer.addEventListener("channelChange",function(t){var n=t.detail;n.sectionUid,n.active;console.log(n),e.updateActiveSections()}),console.log(this)}return e.prototype.updateActiveSections=function(){this.activeSections=this.channelGroup.getActiveChannels(),console.log(this.activeSections)},e.fetchTemplates=function(e,t){var n={credentials:"same-origin",headers:{"X-Requested-With":"XMLHttpRequest"},method:"post",body:JSON.stringify({sectionUids:e,entryTypes:t})};return console.log(n),fetch("/admin/related-entry-types/types",n)},e}();t.default=o,new o},"./resources/js/components/Channel.ts":
/*!********************************************!*\
  !*** ./resources/js/components/Channel.ts ***!
  \********************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var s=function(){function e(e){if(this.checkbox=e,this.active=e.checked,"*"===e.value)this.uid="all";else{var t=e.value.match(/section\:(.*)/);t&&t.length&&(this.uid=t[0])}this.name=e.value;var n=document.querySelector('label[for="'+this.checkbox.id+'"]');n&&(this.label=n.innerText),this.checkboxChangeHandler=this.checkboxChangeHandler.bind(this),this.updateActiveStatus=this.updateActiveStatus.bind(this),this.checkbox.addEventListener("change",this.checkboxChangeHandler)}return e.prototype.updateActiveStatus=function(){this.active=this.checkbox.checked},e.prototype.checkboxChangeHandler=function(e){var t=e.target;this.active=t.checked;var n=new CustomEvent("channelChange",{detail:{sectionUid:this.uid,active:this.active},bubbles:!0});return this.checkbox.dispatchEvent(n)},e}();t.default=s},"./resources/js/components/ChannelGroup.ts":
/*!*************************************************!*\
  !*** ./resources/js/components/ChannelGroup.ts ***!
  \*************************************************/
/*! exports provided: default */function(e,t,n){"use strict";n.r(t);var s=n(/*! ./Channel */"./resources/js/components/Channel.ts"),o=function(){function e(e){this.node=e;var t=e.querySelectorAll('input[type="checkbox"]');this.channels=Array.from(t).map(function(e){return new s.default(e)}),this.getActiveChannels=this.getActiveChannels.bind(this)}return e.prototype.getChannels=function(){return[]},e.prototype.getActiveChannels=function(){return this.channels.filter(function(e){return e.updateActiveStatus(),e.active})},e}();t.default=o},"./resources/scss/field.scss":
/*!***********************************!*\
  !*** ./resources/scss/field.scss ***!
  \***********************************/
/*! no static exports found */function(e,t,n){var s=n(/*! !../../node_modules/mini-css-extract-plugin/dist/loader.js!../../node_modules/css-loader!../../node_modules/postcss-loader/src??embedded!../../node_modules/sass-loader/lib/loader.js!./field.scss */"./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/index.js!./node_modules/postcss-loader/src/index.js?!./node_modules/sass-loader/lib/loader.js!./resources/scss/field.scss");"string"==typeof s&&(s=[[e.i,s,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(/*! ../../node_modules/style-loader/lib/addStyles.js */"./node_modules/style-loader/lib/addStyles.js")(s,o);s.locals&&(e.exports=s.locals)},0:
/*!**********************************************************************************!*\
  !*** multi ./resources/js/RelatedEntryTypesField.ts ./resources/scss/field.scss ***!
  \**********************************************************************************/
/*! no static exports found */function(e,t,n){n(/*! /Users/abryrath/Union/Library/relatedentrytypes/resources/js/RelatedEntryTypesField.ts */"./resources/js/RelatedEntryTypesField.ts"),e.exports=n(/*! /Users/abryrath/Union/Library/relatedentrytypes/resources/scss/field.scss */"./resources/scss/field.scss")}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL1JlbGF0ZWRFbnRyeVR5cGVzRmllbGQudHMiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL2NvbXBvbmVudHMvQ2hhbm5lbC50cyIsIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvY29tcG9uZW50cy9DaGFubmVsR3JvdXAudHMiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL3Njc3MvZmllbGQuc2NzcyJdLCJuYW1lcyI6WyJ3ZWJwYWNrSnNvbnBDYWxsYmFjayIsImRhdGEiLCJtb2R1bGVJZCIsImNodW5rSWQiLCJjaHVua0lkcyIsIm1vcmVNb2R1bGVzIiwiZXhlY3V0ZU1vZHVsZXMiLCJpIiwicmVzb2x2ZXMiLCJsZW5ndGgiLCJpbnN0YWxsZWRDaHVua3MiLCJwdXNoIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwibW9kdWxlcyIsInBhcmVudEpzb25wRnVuY3Rpb24iLCJzaGlmdCIsImRlZmVycmVkTW9kdWxlcyIsImFwcGx5IiwiY2hlY2tEZWZlcnJlZE1vZHVsZXMiLCJyZXN1bHQiLCJkZWZlcnJlZE1vZHVsZSIsImZ1bGZpbGxlZCIsImoiLCJkZXBJZCIsInNwbGljZSIsIl9fd2VicGFja19yZXF1aXJlX18iLCJzIiwiaW5zdGFsbGVkTW9kdWxlcyIsIm1haW4iLCJleHBvcnRzIiwibW9kdWxlIiwibCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwIiwianNvbnBBcnJheSIsIndpbmRvdyIsIm9sZEpzb25wRnVuY3Rpb24iLCJzbGljZSIsIl9fd2VicGFja19leHBvcnRzX18iLCJfY29tcG9uZW50c19DaGFubmVsR3JvdXBfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfXyIsIlJlbGF0ZWRFbnRyeVR5cGVzRmllbGQiLCJfdGhpcyIsInRoaXMiLCJhY3RpdmVTZWN0aW9ucyIsImZpZWxkQ29udGFpbmVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY2hhbm5lbEdyb3VwQ29udGFpbmVyIiwiY2hhbm5lbEdyb3VwIiwiZ2V0QWN0aXZlQ2hhbm5lbHMiLCJzZWN0aW9uTWFwRGF0YSIsIkpTT04iLCJwYXJzZSIsImRhdGFzZXQiLCJyZWxhdGVkRW50cnlUeXBlc0NoYW5uZWxzIiwic2VjdGlvbk1hcCIsInVwZGF0ZUFjdGl2ZVNlY3Rpb25zIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJldmVudERldGFpbCIsImRldGFpbCIsInNlY3Rpb25VaWQiLCJhY3RpdmUiLCJjb25zb2xlIiwibG9nIiwiZmV0Y2hUZW1wbGF0ZXMiLCJzZWN0aW9uVWlkcyIsImVudHJ5VHlwZXMiLCJvcHRzIiwiY3JlZGVudGlhbHMiLCJoZWFkZXJzIiwiWC1SZXF1ZXN0ZWQtV2l0aCIsIm1ldGhvZCIsImJvZHkiLCJzdHJpbmdpZnkiLCJmZXRjaCIsIkNoYW5uZWwiLCJub2RlIiwiY2hlY2tib3giLCJjaGVja2VkIiwidWlkIiwidWlkTWF0Y2giLCJtYXRjaCIsImxhYmVsIiwiaWQiLCJpbm5lclRleHQiLCJjaGVja2JveENoYW5nZUhhbmRsZXIiLCJ1cGRhdGVBY3RpdmVTdGF0dXMiLCJjaGFuZ2VFdmVudCIsInRhcmdldCIsImV2ZW50IiwiQ3VzdG9tRXZlbnQiLCJidWJibGVzIiwiZGlzcGF0Y2hFdmVudCIsIl9DaGFubmVsX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX18iLCJDaGFubmVsR3JvdXAiLCJjaGVja2JveGVzIiwicXVlcnlTZWxlY3RvckFsbCIsImNoYW5uZWxzIiwiQXJyYXkiLCJmcm9tIiwibWFwIiwiZ2V0Q2hhbm5lbHMiLCJmaWx0ZXIiLCJjaGFubmVsIiwiY29udGVudCIsIm9wdGlvbnMiLCJobXIiLCJ0cmFuc2Zvcm0iLCJpbnNlcnRJbnRvIiwidW5kZWZpbmVkIiwibG9jYWxzIl0sIm1hcHBpbmdzIjoiYUFDQSxTQUFBQSxFQUFBQyxHQVFBLElBUEEsSUFNQUMsRUFBQUMsRUFOQUMsRUFBQUgsRUFBQSxHQUNBSSxFQUFBSixFQUFBLEdBQ0FLLEVBQUFMLEVBQUEsR0FJQU0sRUFBQSxFQUFBQyxFQUFBLEdBQ1FELEVBQUFILEVBQUFLLE9BQW9CRixJQUM1QkosRUFBQUMsRUFBQUcsR0FDQUcsRUFBQVAsSUFDQUssRUFBQUcsS0FBQUQsRUFBQVAsR0FBQSxJQUVBTyxFQUFBUCxHQUFBLEVBRUEsSUFBQUQsS0FBQUcsRUFDQU8sT0FBQUMsVUFBQUMsZUFBQUMsS0FBQVYsRUFBQUgsS0FDQWMsRUFBQWQsR0FBQUcsRUFBQUgsSUFLQSxJQUZBZSxLQUFBaEIsR0FFQU8sRUFBQUMsUUFDQUQsRUFBQVUsT0FBQVYsR0FPQSxPQUhBVyxFQUFBUixLQUFBUyxNQUFBRCxFQUFBYixHQUFBLElBR0FlLElBRUEsU0FBQUEsSUFFQSxJQURBLElBQUFDLEVBQ0FmLEVBQUEsRUFBaUJBLEVBQUFZLEVBQUFWLE9BQTRCRixJQUFBLENBRzdDLElBRkEsSUFBQWdCLEVBQUFKLEVBQUFaLEdBQ0FpQixHQUFBLEVBQ0FDLEVBQUEsRUFBa0JBLEVBQUFGLEVBQUFkLE9BQTJCZ0IsSUFBQSxDQUM3QyxJQUFBQyxFQUFBSCxFQUFBRSxHQUNBLElBQUFmLEVBQUFnQixLQUFBRixHQUFBLEdBRUFBLElBQ0FMLEVBQUFRLE9BQUFwQixJQUFBLEdBQ0FlLEVBQUFNLElBQUFDLEVBQUFOLEVBQUEsS0FHQSxPQUFBRCxFQUlBLElBQUFRLEVBQUEsR0FLQXBCLEVBQUEsQ0FDQXFCLEtBQUEsR0FHQVosRUFBQSxHQUdBLFNBQUFTLEVBQUExQixHQUdBLEdBQUE0QixFQUFBNUIsR0FDQSxPQUFBNEIsRUFBQTVCLEdBQUE4QixRQUdBLElBQUFDLEVBQUFILEVB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QVEsQ0FDSkMsV0FBWW5CLEtBQUtzQyxJQUNqQmxCLE9BQVFwQixLQUFLb0IsUUFFakI4QixTQUFTLElBR2IsT0FBT2xELEtBQUtvQyxTQUFTZSxjQUFjSCxJQUUzQ2QsRUFwREE7Ozs7NkRDQUF6RSxFQUFBZ0IsRUFBQW1CLEdBQUEsSUFBQXdELEVBQUEzRixrQkFBQSx3Q0FFQTRGLEVBQUEsV0FJSSxTQUFBQSxFQUFZbEIsR0FDUm5DLEtBQUttQyxLQUFPQSxFQUNaLElBQU1tQixFQUEyQ25CLEVBQUtvQixpQkFBaUIsMEJBQ3ZFdkQsS0FBS3dELFNBQVdDLE1BQU1DLEtBQUtKLEdBQVlLLElBQUksU0FBQ3ZCLEdBQStCLFdBQUlnQixFQUFBLFFBQVFoQixLQUd2RnBDLEtBQUtPLGtCQUFvQlAsS0FBS08sa0JBQWtCcEIsS0FBS2EsTUFZNUQsT0FUVXFELEVBQUEzRyxVQUFBa0gsWUFBUCxXQUNJLE1BQU8sSUFHSlAsRUFBQTNHLFVBQUE2RCxrQkFBUCxXQUNJLE9BQU9QLEtBQUt3RCxTQUFTSyxPQUFPLFNBQUNDLEdBRXpCLE9BREFBLEVBQVFqQixxQkFDRGlCLEVBQVExQyxVQUUxQmlDLEVBdEJEOzs7OzhDQ0hBLElBQUFVLEVBQWN0RywyTUFBUSw2TUFFdEIsaUJBQUFzRyxNQUFBLEVBQTRDakcsRUFBQTFCLEVBQVMySCxFQUFBLE1BT3JELElBQUFDLEVBQUEsQ0FBZUMsS0FBQSxFQUVmQyxlQVBBQSxFQVFBQyxnQkFBQUMsR0FFYTNHLHlEQUFRLCtDQUFSQSxDQUEyRHNHLEVBQUFDLEdBRXhFRCxFQUFBTSxTQUFBdkcsRUFBQUQsUUFBQWtHLEVBQUFNIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBpbnN0YWxsIGEgSlNPTlAgY2FsbGJhY2sgZm9yIGNodW5rIGxvYWRpbmdcbiBcdGZ1bmN0aW9uIHdlYnBhY2tKc29ucENhbGxiYWNrKGRhdGEpIHtcbiBcdFx0dmFyIGNodW5rSWRzID0gZGF0YVswXTtcbiBcdFx0dmFyIG1vcmVNb2R1bGVzID0gZGF0YVsxXTtcbiBcdFx0dmFyIGV4ZWN1dGVNb2R1bGVzID0gZGF0YVsyXTtcblxuIFx0XHQvLyBhZGQgXCJtb3JlTW9kdWxlc1wiIHRvIHRoZSBtb2R1bGVzIG9iamVjdCxcbiBcdFx0Ly8gdGhlbiBmbGFnIGFsbCBcImNodW5rSWRzXCIgYXMgbG9hZGVkIGFuZCBmaXJlIGNhbGxiYWNrXG4gXHRcdHZhciBtb2R1bGVJZCwgY2h1bmtJZCwgaSA9IDAsIHJlc29sdmVzID0gW107XG4gXHRcdGZvcig7aSA8IGNodW5rSWRzLmxlbmd0aDsgaSsrKSB7XG4gXHRcdFx0Y2h1bmtJZCA9IGNodW5rSWRzW2ldO1xuIFx0XHRcdGlmKGluc3RhbGxlZENodW5rc1tjaHVua0lkXSkge1xuIFx0XHRcdFx0cmVzb2x2ZXMucHVzaChpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF1bMF0pO1xuIFx0XHRcdH1cbiBcdFx0XHRpbnN0YWxsZWRDaHVua3NbY2h1bmtJZF0gPSAwO1xuIFx0XHR9XG4gXHRcdGZvcihtb2R1bGVJZCBpbiBtb3JlTW9kdWxlcykge1xuIFx0XHRcdGlmKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb3JlTW9kdWxlcywgbW9kdWxlSWQpKSB7XG4gXHRcdFx0XHRtb2R1bGVzW21vZHVsZUlkXSA9IG1vcmVNb2R1bGVzW21vZHVsZUlkXTtcbiBcdFx0XHR9XG4gXHRcdH1cbiBcdFx0aWYocGFyZW50SnNvbnBGdW5jdGlvbikgcGFyZW50SnNvbnBGdW5jdGlvbihkYXRhKTtcblxuIFx0XHR3aGlsZShyZXNvbHZlcy5sZW5ndGgpIHtcbiBcdFx0XHRyZXNvbHZlcy5zaGlmdCgpKCk7XG4gXHRcdH1cblxuIFx0XHQvLyBhZGQgZW50cnkgbW9kdWxlcyBmcm9tIGxvYWRlZCBjaHVuayB0byBkZWZlcnJlZCBsaXN0XG4gXHRcdGRlZmVycmVkTW9kdWxlcy5wdXNoLmFwcGx5KGRlZmVycmVkTW9kdWxlcywgZXhlY3V0ZU1vZHVsZXMgfHwgW10pO1xuXG4gXHRcdC8vIHJ1biBkZWZlcnJlZCBtb2R1bGVzIHdoZW4gYWxsIGNodW5rcyByZWFkeVxuIFx0XHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiBcdH07XG4gXHRmdW5jdGlvbiBjaGVja0RlZmVycmVkTW9kdWxlcygpIHtcbiBcdFx0dmFyIHJlc3VsdDtcbiBcdFx0Zm9yKHZhciBpID0gMDsgaSA8IGRlZmVycmVkTW9kdWxlcy5sZW5ndGg7IGkrKykge1xuIFx0XHRcdHZhciBkZWZlcnJlZE1vZHVsZSA9IGRlZmVycmVkTW9kdWxlc1tpXTtcbiBcdFx0XHR2YXIgZnVsZmlsbGVkID0gdHJ1ZTtcbiBcdFx0XHRmb3IodmFyIGogPSAxOyBqIDwgZGVmZXJyZWRNb2R1bGUubGVuZ3RoOyBqKyspIHtcbiBcdFx0XHRcdHZhciBkZXBJZCA9IGRlZmVycmVkTW9kdWxlW2pdO1xuIFx0XHRcdFx0aWYoaW5zdGFsbGVkQ2h1bmtzW2RlcElkXSAhPT0gMCkgZnVsZmlsbGVkID0gZmFsc2U7XG4gXHRcdFx0fVxuIFx0XHRcdGlmKGZ1bGZpbGxlZCkge1xuIFx0XHRcdFx0ZGVmZXJyZWRNb2R1bGVzLnNwbGljZShpLS0sIDEpO1xuIFx0XHRcdFx0cmVzdWx0ID0gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSBkZWZlcnJlZE1vZHVsZVswXSk7XG4gXHRcdFx0fVxuIFx0XHR9XG4gXHRcdHJldHVybiByZXN1bHQ7XG4gXHR9XG5cbiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIG9iamVjdCB0byBzdG9yZSBsb2FkZWQgYW5kIGxvYWRpbmcgY2h1bmtzXG4gXHQvLyB1bmRlZmluZWQgPSBjaHVuayBub3QgbG9hZGVkLCBudWxsID0gY2h1bmsgcHJlbG9hZGVkL3ByZWZldGNoZWRcbiBcdC8vIFByb21pc2UgPSBjaHVuayBsb2FkaW5nLCAwID0gY2h1bmsgbG9hZGVkXG4gXHR2YXIgaW5zdGFsbGVkQ2h1bmtzID0ge1xuIFx0XHRcIm1haW5cIjogMFxuIFx0fTtcblxuIFx0dmFyIGRlZmVycmVkTW9kdWxlcyA9IFtdO1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHR2YXIganNvbnBBcnJheSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSA9IHdpbmRvd1tcIndlYnBhY2tKc29ucFwiXSB8fCBbXTtcbiBcdHZhciBvbGRKc29ucEZ1bmN0aW9uID0ganNvbnBBcnJheS5wdXNoLmJpbmQoanNvbnBBcnJheSk7XG4gXHRqc29ucEFycmF5LnB1c2ggPSB3ZWJwYWNrSnNvbnBDYWxsYmFjaztcbiBcdGpzb25wQXJyYXkgPSBqc29ucEFycmF5LnNsaWNlKCk7XG4gXHRmb3IodmFyIGkgPSAwOyBpIDwganNvbnBBcnJheS5sZW5ndGg7IGkrKykgd2VicGFja0pzb25wQ2FsbGJhY2soanNvbnBBcnJheVtpXSk7XG4gXHR2YXIgcGFyZW50SnNvbnBGdW5jdGlvbiA9IG9sZEpzb25wRnVuY3Rpb247XG5cblxuIFx0Ly8gYWRkIGVudHJ5IG1vZHVsZSB0byBkZWZlcnJlZCBsaXN0XG4gXHRkZWZlcnJlZE1vZHVsZXMucHVzaChbMCxcInZlbmRvclwiXSk7XG4gXHQvLyBydW4gZGVmZXJyZWQgbW9kdWxlcyB3aGVuIHJlYWR5XG4gXHRyZXR1cm4gY2hlY2tEZWZlcnJlZE1vZHVsZXMoKTtcbiIsImltcG9ydCBJQ2hhbm5lbEdyb3VwIGZyb20gJy4vaW50ZXJmYWNlcy9JQ2hhbm5lbEdyb3VwJztcbmltcG9ydCBDaGFubmVsR3JvdXAgZnJvbSAnLi9jb21wb25lbnRzL0NoYW5uZWxHcm91cCc7XG5pbXBvcnQgSVNlY3Rpb25NYXAgZnJvbSAnLi9pbnRlcmZhY2VzL0lTZWN0aW9uTWFwJztcbmltcG9ydCBJQ2hhbm5lbCBmcm9tICcuL2ludGVyZmFjZXMvSUNoYW5uZWwnO1xuaW1wb3J0IFNlY3Rpb25NYXAgZnJvbSAnLi9jb21wb25lbnRzL1NlY3Rpb25NYXAnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWxhdGVkRW50cnlUeXBlc0ZpZWxkIHtcbiAgICBwdWJsaWMgY2hhbm5lbEdyb3VwOiBJQ2hhbm5lbEdyb3VwO1xuICAgIHB1YmxpYyBmaWVsZENvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQ7XG4gICAgLy8gcHVibGljIGVudHJ5VHlwZUdyb3VwOiBJRW50cnlUeXBlR3JvdXA7XG4gICAgcHJpdmF0ZSBzZWN0aW9uTWFwOiBJU2VjdGlvbk1hcDtcbiAgICBwdWJsaWMgYWN0aXZlU2VjdGlvbnM6IElDaGFubmVsW107XG4gICAgXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlU2VjdGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5maWVsZENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0eXBlcy11bmlvbmNvLXJlbGF0ZWRlbnRyeXR5cGVzLWZpZWxkcy1SZWxhdGVkRW50cnlUeXBlLXNvdXJjZXMtZmllbGQnKTtcblxuICAgICAgICAvLyBJbml0aWFsaXplIHRoZSBjaGFubmVscyBzZWxlY3QgYXJlYVxuICAgICAgICBjb25zdCBjaGFubmVsR3JvdXBDb250YWluZXI6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtcmVsYXRlZC1lbnRyeS10eXBlcy1jaGFubmVsc10nKTtcbiAgICAgICAgaWYgKGNoYW5uZWxHcm91cENvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhpcy5jaGFubmVsR3JvdXAgPSBuZXcgQ2hhbm5lbEdyb3VwKGNoYW5uZWxHcm91cENvbnRhaW5lcik7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVNlY3Rpb25zID0gdGhpcy5jaGFubmVsR3JvdXAuZ2V0QWN0aXZlQ2hhbm5lbHMoKTsgLy8ubWFwKChjaGFubmVsOiBJQ2hhbm5lbCkgPT4gY2hhbm5lbC51aWQpO1xuICAgICAgICAgICAgY29uc3Qgc2VjdGlvbk1hcERhdGE6IElTZWN0aW9uTWFwID0gSlNPTi5wYXJzZShjaGFubmVsR3JvdXBDb250YWluZXIuZGF0YXNldC5yZWxhdGVkRW50cnlUeXBlc0NoYW5uZWxzKTtcbiAgICAgICAgICAgIHRoaXMuc2VjdGlvbk1hcCA9IHNlY3Rpb25NYXBEYXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gY29uc3QgZW50cnlUeXBlR3JvdXBDb250YWluZXI6IEhUTUxEaXZFbGVtZW50ID0gdGhpcy5maWVsZENvbnRhaW5lci5xdWVyeVNlbGVjdG9yKCdbZGF0YS1lbnRyeS10eXBlcy1zZWxlY3QtYXJlYV0nKTtcbiAgICAgICAgLy8gaWYgKGVudHJ5VHlwZXNHcm91cENvbnRhaW5lcikge1xuICAgICAgICAvLyAgICAgdGhpcy5lbnR5VHlwZUdyb3VwID0gbmV3IEVudHlUeXBlR3JvdXBcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIC8vIE1ldGhvZCBiaW5kaW5nXG4gICAgICAgIHRoaXMudXBkYXRlQWN0aXZlU2VjdGlvbnMgPSB0aGlzLnVwZGF0ZUFjdGl2ZVNlY3Rpb25zLmJpbmQodGhpcyk7XG5cbiAgICAgICAgLy8gRXZlbnQgTGlzdGVuZXJzXG4gICAgICAgIHRoaXMuZmllbGRDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbm5lbENoYW5nZScsIChlOiBDdXN0b21FdmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXZlbnREZXRhaWwgPSBlLmRldGFpbDtcbiAgICAgICAgICAgIGNvbnN0IHsgc2VjdGlvblVpZCwgYWN0aXZlIH0gPSBldmVudERldGFpbDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGV2ZW50RGV0YWlsKTtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlQWN0aXZlU2VjdGlvbnMoKTsgLy8gc2VjdGlvblVpZCwgYWN0aXZlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc29sZS5sb2codGhpcyk7XG5cbiAgICB9XG5cbiAgICBwdWJsaWMgdXBkYXRlQWN0aXZlU2VjdGlvbnMoKSB7IC8vc2VjdGlvblVpZDogc3RyaW5nLCBhY3RpdmU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5hY3RpdmVTZWN0aW9ucyA9IHRoaXMuY2hhbm5lbEdyb3VwLmdldEFjdGl2ZUNoYW5uZWxzKCk7XG4gICAgICAgIC8vIGlmIChhY3RpdmUpIHtcbiAgICAgICAgLy8gICAgIGlmICghdGhpcy5hY3RpdmVTZWN0aW9ucy5pbmNsdWRlcyhzZWN0aW9uVWlkKSkge1xuICAgICAgICAvLyAgICAgICAgIHRoaXMuYWN0aXZlU2VjdGlvbnMucHVzaChzZWN0aW9uVWlkKTtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gfSBlbHNlIHtcbiAgICAgICAgLy8gICAgIGlmICh0aGlzLmFjdGl2ZVNlY3Rpb25zLmluY2x1ZGVzKHNlY3Rpb25VaWQpKSB7XG4gICAgICAgIC8vICAgICAgICAgdGhpcy5hY3RpdmVTZWN0aW9ucyA9IHRoaXMuYWN0aXZlU2VjdGlvbnMuZmlsdGVyKCh1aWQ6IHN0cmluZykgPT4gdWlkICE9PSBzZWN0aW9uVWlkKTtcbiAgICAgICAgLy8gICAgIH1cbiAgICAgICAgLy8gfVxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmFjdGl2ZVNlY3Rpb25zKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgc3RhdGljIGZldGNoVGVtcGxhdGVzKHNlY3Rpb25VaWRzOiBzdHJpbmdbXSwgZW50cnlUeXBlczogc3RyaW5nW10pOiBQcm9taXNlPFJlc3BvbnNlPiB7XG4gICAgICAgIGNvbnN0IG9wdHM6IFJlcXVlc3RJbml0ID0ge1xuICAgICAgICAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ1gtUmVxdWVzdGVkLVdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIFwic2VjdGlvblVpZHNcIjogc2VjdGlvblVpZHMsXG4gICAgICAgICAgICAgICAgXCJlbnRyeVR5cGVzXCI6IGVudHJ5VHlwZXNcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICAgIGNvbnNvbGUubG9nKG9wdHMpO1xuICAgICAgICByZXR1cm4gZmV0Y2goJy9hZG1pbi9yZWxhdGVkLWVudHJ5LXR5cGVzL3R5cGVzJywgb3B0cyk7XG4gICAgICAgIC8vIC50aGVuKHJlc3AgPT56IHJlc3AudGV4dCgpKVxuICAgICAgICAvLyAudGhlbihkYXRhID0+IHJlc29sdmUoZGF0YSkpO1xuICAgIH1cbn1cblxubmV3IFJlbGF0ZWRFbnRyeVR5cGVzRmllbGQoKTtcblxuLy8gY29uc3QgYWpheE9wdHMgPSB7XG4vLyAgICAgY3JlZGVudGlhbHM6ICdzYW1lLW9yaWdpbicsXG4vLyAgICAgaGVhZGVyczoge1xuLy8gICAgICAgICAnWC1SZXF1ZXN0ZWQtV2l0aCc6ICdYTUxIdHRwUmVxdWVzdCcsXG4vLyAgICAgfVxuLy8gfTtcblxuLy8gY2xhc3MgRW50cnlUeXBlIHtcbi8vICAgICBjb25zdHJ1Y3RvcigpIHtcbi8vICAgICAgICAgdGhpcy5maWVsZENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0eXBlcy11bmlvbmNvLXJlbGF0ZWRlbnRyeXR5cGVzLWZpZWxkcy1FbnRyeVR5cGUtc291cmNlcy1maWVsZCcpO1xuLy8gICAgICAgICBpZiAodGhpcy5maWVsZENvbnRhaW5lcikge1xuLy8gICAgICAgICAgICAgdGhpcy5zZWN0aW9uQ2hlY2tib3hlcyA9IHRoaXMuZmllbGRDb250YWluZXIucXVlcnlTZWxlY3RvckFsbCgnaW5wdXRbdHlwZT1cImNoZWNrYm94XCJdJyk7XG4vLyAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnNlY3Rpb25DaGVja2JveGVzKTtcbi8vICAgICAgICAgICAgIGlmICh0aGlzLnNlY3Rpb25DaGVja2JveGVzKSB7XG4vLyAgICAgICAgICAgICAgICAgdGhpcy5zZWN0aW9uQ2hlY2tib3hlcy5mb3JFYWNoKGNoZWNrYm94ID0+IGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIHRoaXMuaGFuZGxlU291cmNlc0NoYW5nZS5iaW5kKHRoaXMpKSk7XG4vLyAgICAgICAgICAgICB9XG4vLyAgICAgICAgIH1cblxuLy8gICAgICAgICB0aGlzLmVudHJ5VHlwZXNTZWxlY3RBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignW2RhdGEtZW50cnktdHlwZXMtc2VsZWN0LWFyZWFdJyk7XG4vLyAgICAgICAgIHRoaXMuZ2V0U2VsZWN0ZWRTZWN0aW9ucyA9IHRoaXMuZ2V0U2VsZWN0ZWRTZWN0aW9ucy5iaW5kKHRoaXMpO1xuLy8gICAgIH1cblxuLy8gICAgIGdldFNlbGVjdGVkU2VjdGlvbnMoKSB7XG4vLyAgICAgICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuZmlsdGVyLmNhbGwodGhpcy5zZWN0aW9uQ2hlY2tib3hlcywgY2hlY2tib3ggPT4ge1xuLy8gICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhjaGVja2JveCk7XG4vLyAgICAgICAgICAgICByZXR1cm4gY2hlY2tib3guY2hlY2tlZCB8fCBmYWxzZTtcbi8vICAgICAgICAgfSkubWFwKGNoZWNrYm94ID0+IHtcbi8vICAgICAgICAgICAgIHJldHVybiBjaGVja2JveC52YWx1ZTtcbi8vICAgICAgICAgfSk7XG4vLyAgICAgfVxuXG4vLyAgICAgZ2V0U2VsZWN0ZWRFbnRyeVR5cGVzKCkge1xuLy8gICAgICAgICBjb25zdCBlbnRyeVR5cGVzU2VjdGlvbiA9IHRoaXMuZW50cnlUeXBlc1NlbGVjdEFyZWEucXVlcnlTZWxlY3RvcignZGl2Jyk7XG4vLyAgICAgICAgIGlmIChlbnRyeVR5cGVzU2VjdGlvbikge1xuLy8gICAgICAgICAgICAgY29uc3QgZW50cnlUeXBlQ2hlY2tib3hlcyA9IGVudHJ5VHlwZXNTZWN0aW9uLnF1ZXJ5U2VsZWN0b3JBbGwoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpO1xuLy8gICAgICAgICAgICAgY29uc29sZS5sb2coZW50cnlUeXBlQ2hlY2tib3hlcyk7XG4vLyAgICAgICAgICAgICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGVudHJ5VHlwZUNoZWNrYm94ZXMsIGNoZWNrYm94ID0+IHtcbi8vICAgICAgICAgICAgICAgICByZXR1cm4gY2hlY2tib3guY2hlY2tlZDtcbi8vICAgICAgICAgICAgIH0pLm1hcChjaGVja2JveCA9PiB7XG4vLyAgICAgICAgICAgICAgICAgcmV0dXJuIGNoZWNrYm94LnZhbHVlO1xuLy8gICAgICAgICAgICAgfSk7XG4vLyAgICAgICAgIH1cblxuLy8gICAgICAgICByZXR1cm4gbnVsbDtcbi8vICAgICB9XG5cbi8vICAgICBoYW5kbGVTb3VyY2VzQ2hhbmdlKGUpIHtcbi8vICAgICAgICAgY29uc3Qgc2VsZWN0ZWRTZWN0aW9ucyA9IHRoaXMuZ2V0U2VsZWN0ZWRTZWN0aW9ucygpO1xuLy8gICAgICAgICBjb25zdCBzZWxlY3RlZEVudHJ5VHlwZXMgPSB0aGlzLmdldFNlbGVjdGVkRW50cnlUeXBlcygpO1xuXG4vLyAgICAgICAgIGlmIChzZWxlY3RlZFNlY3Rpb25zLmxlbmd0aCA8IDEpIHtcbi8vICAgICAgICAgICAgIHRoaXMuZW50cnlUeXBlc1NlbGVjdEFyZWEuaW5uZXJIVE1MID0gJyc7XG4vLyAgICAgICAgIH1cbi8vICAgICAgICAgQXBpQ2xpZW50LmdldFRlbXBsYXRlKHNlbGVjdGVkU2VjdGlvbnMsIHNlbGVjdGVkRW50cnlUeXBlcylcbi8vICAgICAgICAgICAgIC50aGVuKGRhdGEgPT4ge1xuLy8gICAgICAgICAgICAgICAgIHRoaXMuZW50cnlUeXBlc1NlbGVjdEFyZWEuaW5uZXJIVE1MID0gZGF0YTtcbi8vICAgICAgICAgICAgIH0pO1xuLy8gICAgIH1cbi8vIH1cblxuLy8gY2xhc3MgQXBpQ2xpZW50IHtcbi8vICAgICBzdGF0aWMgZ2V0VGVtcGxhdGUoc2VjdGlvblVpZHMsIGVudHJ5VHlwZXMpIHtcbi8vICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbi8vICAgICAgICAgICAgIGxldCBvcHRzID0ge1xuLy8gICAgICAgICAgICAgICAgIGNyZWRlbnRpYWxzOiAnc2FtZS1vcmlnaW4nLFxuLy8gICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbi8vICAgICAgICAgICAgICAgICAgICAgJ1gtUmVxdWVzdGVkLVdpdGgnOiAnWE1MSHR0cFJlcXVlc3QnLFxuLy8gICAgICAgICAgICAgICAgIH0sXG4vLyAgICAgICAgICAgICAgICAgbWV0aG9kOiAncG9zdCcsXG4vLyAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuLy8gICAgICAgICAgICAgICAgICAgICBcInNlY3Rpb25VaWRzXCI6IHNlY3Rpb25VaWRzLFxuLy8gICAgICAgICAgICAgICAgICAgICBcImVudHJ5VHlwZXNcIjogZW50cnlUeXBlc1xuLy8gICAgICAgICAgICAgICAgIH0pXG4vLyAgICAgICAgICAgICB9O1xuLy8gICAgICAgICAgICAgY29uc29sZS5sb2cob3B0cyk7XG4vLyAgICAgICAgICAgICBmZXRjaCgnL2FkbWluL3JlbGF0ZWQtZW50cnktdHlwZXMvdHlwZXMnLCBvcHRzKVxuLy8gICAgICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4gcmVzcC50ZXh0KCkpXG4vLyAgICAgICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiByZXNvbHZlKGRhdGEpKTtcbi8vICAgICAgICAgfSk7XG4vLyAgICAgfVxuLy8gfVxuXG4vLyAoZnVuY3Rpb24gKCQsIHdpbmRvdywgZG9jdW1lbnQsIHVuZGVmaW5lZCkge1xuXG4vLyAgICAgdmFyIHBsdWdpbk5hbWUgPSBcIlJlbGF0ZWRFbnRyeVR5cGVzXCIsXG4vLyAgICAgICAgIGRlZmF1bHRzID0ge307XG5cbi8vICAgICAvLyBQbHVnaW4gY29uc3RydWN0b3Jcbi8vICAgICBmdW5jdGlvbiBQbHVnaW4oZWxlbWVudCwgb3B0aW9ucykge1xuLy8gICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuXG4vLyAgICAgICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XG5cbi8vICAgICAgICAgdGhpcy5fZGVmYXVsdHMgPSBkZWZhdWx0cztcbi8vICAgICAgICAgdGhpcy5fbmFtZSA9IHBsdWdpbk5hbWU7XG5cbi8vICAgICAgICAgdGhpcy5pbml0KCk7XG4vLyAgICAgfVxuXG4vLyAgICAgUGx1Z2luLnByb3RvdHlwZSA9IHtcblxuLy8gICAgICAgICBpbml0OiBmdW5jdGlvbiAoaWQpIHtcbi8vICAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbi8vICAgICAgICAgICAgICQoZnVuY3Rpb24gKCkge1xuXG4vLyAgICAgICAgICAgICAgICAgLyogLS0gX3RoaXMub3B0aW9ucyBnaXZlcyB1cyBhY2Nlc3MgdG8gdGhlICRqc29uVmFycyB0aGF0IG91ciBGaWVsZFR5cGUgcGFzc2VkIGRvd24gdG8gdXMgKi9cblxuLy8gICAgICAgICAgICAgfSk7XG4vLyAgICAgICAgIH1cbi8vICAgICB9O1xuXG4vLyAgICAgLy8gQSByZWFsbHkgbGlnaHR3ZWlnaHQgcGx1Z2luIHdyYXBwZXIgYXJvdW5kIHRoZSBjb25zdHJ1Y3Rvcixcbi8vICAgICAvLyBwcmV2ZW50aW5nIGFnYWluc3QgbXVsdGlwbGUgaW5zdGFudGlhdGlvbnNcbi8vICAgICAkLmZuW3BsdWdpbk5hbWVdID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbi8vICAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4vLyAgICAgICAgICAgICBpZiAoISQuZGF0YSh0aGlzLCBcInBsdWdpbl9cIiArIHBsdWdpbk5hbWUpKSB7XG4vLyAgICAgICAgICAgICAgICAgJC5kYXRhKHRoaXMsIFwicGx1Z2luX1wiICsgcGx1Z2luTmFtZSxcbi8vICAgICAgICAgICAgICAgICAgICAgbmV3IFBsdWdpbih0aGlzLCBvcHRpb25zKSk7XG4vLyAgICAgICAgICAgICB9XG4vLyAgICAgICAgIH0pO1xuLy8gICAgIH07XG5cbi8vIH0pKGpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7XG5cbi8vIHdpbmRvdy5SZWxhdGVkRW50cnlUeXBlc0ZpZWxkID0gUmVsYXRlZEVudHJ5VHlwZXNGaWVsZDsiLCJpbXBvcnQgSUNoYW5uZWwgZnJvbSBcIi4uL2ludGVyZmFjZXMvSUNoYW5uZWxcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2hhbm5lbCBpbXBsZW1lbnRzIElDaGFubmVsIHtcbiAgICBwcml2YXRlIGNoZWNrYm94OiBIVE1MSW5wdXRFbGVtZW50O1xuICAgIHB1YmxpYyBuYW1lOiBzdHJpbmc7XG4gICAgcHVibGljIGxhYmVsOiBzdHJpbmc7XG4gICAgcHVibGljIHVpZDogc3RyaW5nO1xuICAgIHB1YmxpYyBhY3RpdmU6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3Rvcihub2RlOiBIVE1MSW5wdXRFbGVtZW50KSB7XG4gICAgICAgIHRoaXMuY2hlY2tib3ggPSBub2RlO1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IG5vZGUuY2hlY2tlZDtcblxuICAgICAgICBpZiAobm9kZS52YWx1ZSA9PT0gJyonKSB7XG4gICAgICAgICAgICB0aGlzLnVpZCA9ICdhbGwnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdWlkTWF0Y2ggPSBub2RlLnZhbHVlLm1hdGNoKC9zZWN0aW9uXFw6KC4qKS8pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAodWlkTWF0Y2ggJiYgdWlkTWF0Y2gubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51aWQgPSB1aWRNYXRjaFswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5hbWUgPSBub2RlLnZhbHVlO1xuICAgICAgICBjb25zdCBsYWJlbDogSFRNTExhYmVsRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYGxhYmVsW2Zvcj1cIiR7dGhpcy5jaGVja2JveC5pZH1cIl1gKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChsYWJlbCkge1xuICAgICAgICAgICAgdGhpcy5sYWJlbCA9IGxhYmVsLmlubmVyVGV4dDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE1ldGhvZCBiaW5kaW5nXG4gICAgICAgIHRoaXMuY2hlY2tib3hDaGFuZ2VIYW5kbGVyID0gdGhpcy5jaGVja2JveENoYW5nZUhhbmRsZXIuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy51cGRhdGVBY3RpdmVTdGF0dXMgPSB0aGlzLnVwZGF0ZUFjdGl2ZVN0YXR1cy5iaW5kKHRoaXMpO1xuXG4gICAgICAgIHRoaXMuY2hlY2tib3guYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgdGhpcy5jaGVja2JveENoYW5nZUhhbmRsZXIpO1xuICAgIH1cblxuICAgIHB1YmxpYyB1cGRhdGVBY3RpdmVTdGF0dXMoKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gdGhpcy5jaGVja2JveC5jaGVja2VkO1xuICAgIH1cblxuICAgIHB1YmxpYyBjaGVja2JveENoYW5nZUhhbmRsZXIoY2hhbmdlRXZlbnQ6IEV2ZW50KTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHRhcmdldDogSFRNTElucHV0RWxlbWVudCA9IGNoYW5nZUV2ZW50LnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IHRhcmdldC5jaGVja2VkO1xuXG4gICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdjaGFubmVsQ2hhbmdlJywge1xuICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgc2VjdGlvblVpZDogdGhpcy51aWQsXG4gICAgICAgICAgICAgICAgYWN0aXZlOiB0aGlzLmFjdGl2ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJ1YmJsZXM6IHRydWVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tib3guZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgfVxufSIsImltcG9ydCBJQ2hhbm5lbEdyb3VwIGZyb20gJy4uL2ludGVyZmFjZXMvSUNoYW5uZWxHcm91cCc7XG5pbXBvcnQgSUNoYW5uZWwgZnJvbSAnLi4vaW50ZXJmYWNlcy9JQ2hhbm5lbCc7XG5pbXBvcnQgQ2hhbm5lbCBmcm9tICcuL0NoYW5uZWwnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDaGFubmVsR3JvdXAgaW1wbGVtZW50cyBJQ2hhbm5lbEdyb3VwIHtcbiAgICBwcml2YXRlIGNoYW5uZWxzOiBJQ2hhbm5lbFtdO1xuICAgIHByaXZhdGUgbm9kZTogSFRNTERpdkVsZW1lbnQ7XG5cbiAgICBjb25zdHJ1Y3Rvcihub2RlOiBIVE1MRGl2RWxlbWVudCkge1xuICAgICAgICB0aGlzLm5vZGUgPSBub2RlO1xuICAgICAgICBjb25zdCBjaGVja2JveGVzOiBOb2RlTGlzdE9mPEhUTUxJbnB1dEVsZW1lbnQ+ID0gbm9kZS5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0nKTtcbiAgICAgICAgdGhpcy5jaGFubmVscyA9IEFycmF5LmZyb20oY2hlY2tib3hlcykubWFwKChjaGVja2JveDogSFRNTElucHV0RWxlbWVudCkgPT4gbmV3IENoYW5uZWwoY2hlY2tib3gpKTtcbiAgICAgICAgXG4gICAgICAgIC8vIE1ldGhvZCBiaW5kaW5nXG4gICAgICAgIHRoaXMuZ2V0QWN0aXZlQ2hhbm5lbHMgPSB0aGlzLmdldEFjdGl2ZUNoYW5uZWxzLmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldENoYW5uZWxzKCk6IElDaGFubmVsW10ge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgcHVibGljIGdldEFjdGl2ZUNoYW5uZWxzKCk6IElDaGFubmVsW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFubmVscy5maWx0ZXIoKGNoYW5uZWw6IElDaGFubmVsKSA9PiB7XG4gICAgICAgICAgICBjaGFubmVsLnVwZGF0ZUFjdGl2ZVN0YXR1cygpO1xuICAgICAgICAgICAgcmV0dXJuIGNoYW5uZWwuYWN0aXZlO1xuICAgICAgICB9KTtcbiAgICB9XG59IiwiXG52YXIgY29udGVudCA9IHJlcXVpcmUoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcyEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9lbWJlZGRlZCEuLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcyEuL2ZpZWxkLnNjc3NcIik7XG5cbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuXG52YXIgdHJhbnNmb3JtO1xudmFyIGluc2VydEludG87XG5cblxuXG52YXIgb3B0aW9ucyA9IHtcImhtclwiOnRydWV9XG5cbm9wdGlvbnMudHJhbnNmb3JtID0gdHJhbnNmb3JtXG5vcHRpb25zLmluc2VydEludG8gPSB1bmRlZmluZWQ7XG5cbnZhciB1cGRhdGUgPSByZXF1aXJlKFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvbGliL2FkZFN0eWxlcy5qc1wiKShjb250ZW50LCBvcHRpb25zKTtcblxuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG5cbmlmKG1vZHVsZS5ob3QpIHtcblx0bW9kdWxlLmhvdC5hY2NlcHQoXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9taW5pLWNzcy1leHRyYWN0LXBsdWdpbi9kaXN0L2xvYWRlci5qcyEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcyEuLi8uLi9ub2RlX21vZHVsZXMvcG9zdGNzcy1sb2FkZXIvc3JjL2luZGV4LmpzPz9lbWJlZGRlZCEuLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcyEuL2ZpZWxkLnNjc3NcIiwgZnVuY3Rpb24oKSB7XG5cdFx0dmFyIG5ld0NvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanMhLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL3NyYy9pbmRleC5qcz8/ZW1iZWRkZWQhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanMhLi9maWVsZC5zY3NzXCIpO1xuXG5cdFx0aWYodHlwZW9mIG5ld0NvbnRlbnQgPT09ICdzdHJpbmcnKSBuZXdDb250ZW50ID0gW1ttb2R1bGUuaWQsIG5ld0NvbnRlbnQsICcnXV07XG5cblx0XHR2YXIgbG9jYWxzID0gKGZ1bmN0aW9uKGEsIGIpIHtcblx0XHRcdHZhciBrZXksIGlkeCA9IDA7XG5cblx0XHRcdGZvcihrZXkgaW4gYSkge1xuXHRcdFx0XHRpZighYiB8fCBhW2tleV0gIT09IGJba2V5XSkgcmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRpZHgrKztcblx0XHRcdH1cblxuXHRcdFx0Zm9yKGtleSBpbiBiKSBpZHgtLTtcblxuXHRcdFx0cmV0dXJuIGlkeCA9PT0gMDtcblx0XHR9KGNvbnRlbnQubG9jYWxzLCBuZXdDb250ZW50LmxvY2FscykpO1xuXG5cdFx0aWYoIWxvY2FscykgdGhyb3cgbmV3IEVycm9yKCdBYm9ydGluZyBDU1MgSE1SIGR1ZSB0byBjaGFuZ2VkIGNzcy1tb2R1bGVzIGxvY2Fscy4nKTtcblxuXHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0fSk7XG5cblx0bW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uKCkgeyB1cGRhdGUoKTsgfSk7XG59Il0sInNvdXJjZVJvb3QiOiIifQ==